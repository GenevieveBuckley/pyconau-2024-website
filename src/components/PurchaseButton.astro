---
import Button from "./Button.astro"
---

<p>
    <center id="purchase-button-container">
        <Button type="chonk" href="https://pretix.eu/pyconau/2023/">
            Get your tickets now!
        </Button>
    </center>
</p>

<script>
    // Use a campaign URL if the viewer came from social media.
    const referrer = window.localStorage.getItem("referrer")
    console.log(referrer)
    if (referrer) {
        const campaignUrl = {
            // Twitter
            tw: "https://pretix.eu/pyconau/2023/c/kZnF7EnvL/",
            // LinkedIn
            li: "https://pretix.eu/pyconau/2023/c/QsEV6PAEj/",
            // Fediverse
            fv: "https://pretix.eu/pyconau/2023/c/zEotuIaUC/",
            // Twitter Ads
            ta: "https://pretix.eu/pyconau/2023/c/PXCb4Blaj/",
            // LinkedIn Ads
            la: "https://pretix.eu/pyconau/2023/c/80w2ZDMrJ/",
        }[referrer]
        if (campaignUrl) {
            const link = document
                .getElementById("purchase-button-container")!
                .querySelector("a")!
            link.href = campaignUrl
        }
    }
</script>
