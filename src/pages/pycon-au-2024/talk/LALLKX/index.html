




<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>The perfect setup? Not setup.py! Building packages the right way ::  PyCon AU 2024 :: pretalx</title>
        <meta name="title" content="The perfect setup? Not setup.py! Building packages the right way  - PyCon AU 2024 pretalx">
        <meta name="description" content="Everyone loves package management! Python&#x27;s packaging systems have continued to evolve over the years. Specifications such as environment markers, custom backends, and static build configurations have been introduced. Additionally new package managers like Poetry and Hatch have emerged.

Yet despite the updates, many projects are still living in the 2010s - using a setup.py file to specify the build configuration for their package. setup.py is notoriously difficult to learn and a common vector for launching attacks during install.

This talk will discuss why it&#x27;s time to move away from using setup.py and how to do it.

We will see how setup.py is used and abused - from downloading huge datasets (*cough* AI *cough*), modifying the system, and most critically how malicious payloads can be included to execute when setup.py is evaluated. Arbitrary code in setup.py makes security analysis harder and creates more work for PyPI administrators.

The talk will detail the new (as of 7 years ago) methods of describing build configurations in pyproject.toml and setup.cfg, giving examples of how to use these methods. The examples will include how to achieve what once required dynamic code to include data like readme contents, version numbers and requirements. The limits of pyproject.toml and setup.cfg will also be covered.

Finally, the talk will outline how moving away from setup.py improves the Python packaging universe, how it makes life easier for ensuring Python security, and what can be done to drive adoption of pyproject.toml.">
        <meta name="application-name" content="pretalx">
        <meta name="generator" content="pretalx">
        <meta name="keywords" content="PyCon AU 2024, pycon-au-2024, 2024, schedule, talks, cfp, call for papers, conference, submissions, organizer">
        
        
            <meta name="robots" content="index, follow">
        
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#00B159">
        <meta name="HandheldFriendly" content="True"/>
        
    <meta property="thumbnail" content="https://pretalx.com/pycon-au-2024/talk/LALLKX/og-image">
    <meta property="og:image" content="https://pretalx.com/pycon-au-2024/talk/LALLKX/og-image">

        <meta property="og:title" content="The perfect setup? Not setup.py! Building packages the right way PyCon AU 2024">
        <meta property="og:description" content="Everyone loves package management! Python&#x27;s packaging systems have continued to evolve over the years. Specifications such as environment markers, custom backends, and static build configurations have been introduced. Additionally new package managers like Poetry and Hatch have emerged.

Yet despite the updates, many projects are still living in the 2010s - using a setup.py file to specify the build configuration for their package. setup.py is notoriously difficult to learn and a common vector for launching attacks during install.

This talk will discuss why it&#x27;s time to move away from using setup.py and how to do it.

We will see how setup.py is used and abused - from downloading huge datasets (*cough* AI *cough*), modifying the system, and most critically how malicious payloads can be included to execute when setup.py is evaluated. Arbitrary code in setup.py makes security analysis harder and creates more work for PyPI administrators.

The talk will detail the new (as of 7 years ago) methods of describing build configurations in pyproject.toml and setup.cfg, giving examples of how to use these methods. The examples will include how to achieve what once required dynamic code to include data like readme contents, version numbers and requirements. The limits of pyproject.toml and setup.cfg will also be covered.

Finally, the talk will outline how moving away from setup.py improves the Python packaging universe, how it makes life easier for ensuring Python security, and what can be done to drive adoption of pyproject.toml.">
        <meta property="og:url" content="http://testserver/pycon-au-2024/talk/LALLKX/">
        <meta property="twitter:card" content="summary">

        


    <link rel="icon" type="image/png" sizes="16x16" href="/static/common/img/icons/favicon.f79e2b95f18d.ico">
    <link rel="apple-touch-icon" href="/static/common/img/icons/apple-touch-icon-180x180.9cd0735ee8ec.png">



        <link rel="stylesheet" type="text/css" href="/static/common/scss/uncompressed.cabbf3759e3e.css" />
        
            <link rel="stylesheet" type="text/css" href="/static/vendored/fullcalendar/fullcalendar.min.ba055a2cd2b3.css"/>
            <link rel="stylesheet" type="text/css" href="/media/pycon-au-2024/cfp.45696e4e6cfb06b9.css"/>
            <link rel="stylesheet" type="text/css" href="/media/pycon-au-2024/agenda.e6ca9a43c7217ad7.css"/>
        
        
        <script src="/static/CACHE/js/output.8a6c26cce74b.js" defer></script>
        
    
    <link rel="alternate" type="application/json" title="PyCon AU 2024 API" href="https://pretalx.com/api/events/pycon-au-2024/talks/LALLKX" />

    
    <script id="pretalx-messages" data-logged-in="false" src="/pycon-au-2024/schedule/widget/messages.js"></script>
    <script src="/static/CACHE/js/output.ee3f4ef9d2e8.js" async></script>
<script src="/static/CACHE/js/output.a5b490466975.js"></script>
    <link rel="stylesheet" href="/static/CACHE/css/output.07f5ae334b50.css" type="text/css">


    </head>
    <body data-datetimeformat="YYYY-MM-DD HH:mm:ss" data-dateformat="YYYY-MM-DD" data-datetimelocale="en">
        <div id="top-bg" class="header bg-primary">
            
        </div>
        
        <div class="container" id="main-container">
            <header>
                <h1>
                    <a href="
    
    
        /pycon-au-2024/schedule/
    
">
                        
                            PyCon AU 2024
                        
                    </a>
                </h1>
                <div class="d-flex" id="header-row">
                    
                    
                </div>
            </header>
            <div class="card" id="main-card">
                <main>
                    

                    
    
    
    <article>
        
        <h3 class="talk-title">
            <div class="heading-with-buttons">
                <span>
                    The perfect setup? Not setup.py! Building packages the right way
                    <button class="btn btn-xs btn-link d-none" id="fav-button">
                        <i class="fa fa-star-o d-none" title="Favourite this session"></i>
                        <i class="fa fa-star d-none" title="Remove this session from your favourites"></i>
                    </button>
                </span>
                <div class="buttons" id="talk-buttons">
                    
                        <a class="btn btn-outline-primary" href="/pycon-au-2024/talk/LALLKX.ics">
                            <i class="fa fa-calendar"></i> .ical
                        </a>
                    
                    
                    
                </div>
            </div>
            <small>
                
                    11-24, 11:55â€“12:25 (Australia/Melbourne), Goldfields Theatre
                    
                
                
                
            </small>
        </h3>
        <div class="talk row">
            <div class="talk-content">
                
                
                
                <section class="abstract">
                    <p>Everyone loves package management! Python's packaging systems have continued to evolve over the years. Specifications such as environment markers, custom backends, and static build configurations have been introduced. Additionally new package managers like Poetry and Hatch have emerged.</p>
<p>Yet despite the updates, many projects are still living in the 2010s - using a <a href="http://setup.py" rel="nofollow" target="_blank">setup.py</a> file to specify the build configuration for their package. <a href="http://setup.py" rel="nofollow" target="_blank">setup.py</a> is notoriously difficult to learn and a common vector for launching attacks during install.</p>
<p>This talk will discuss why it's time to move away from using <a href="http://setup.py" rel="nofollow" target="_blank">setup.py</a> and how to do it.</p>
<p>We will see how <a href="http://setup.py" rel="nofollow" target="_blank">setup.py</a> is used and abused - from downloading huge datasets (<em>cough</em> AI <em>cough</em>), modifying the system, and most critically how malicious payloads can be included to execute when <a href="http://setup.py" rel="nofollow" target="_blank">setup.py</a> is evaluated. Arbitrary code in <a href="http://setup.py" rel="nofollow" target="_blank">setup.py</a> makes security analysis harder and creates more work for PyPI administrators.</p>
<p>The talk will detail the new (as of 7 years ago) methods of describing build configurations in pyproject.toml and setup.cfg, giving examples of how to use these methods. The examples will include how to achieve what once required dynamic code to include data like readme contents, version numbers and requirements. The limits of pyproject.toml and setup.cfg will also be covered.</p>
<p>Finally, the talk will outline how moving away from <a href="http://setup.py" rel="nofollow" target="_blank">setup.py</a> improves the Python packaging universe, how it makes life easier for ensuring Python security, and what can be done to drive adoption of pyproject.toml.</p>
                </section>
                
                <section class="description">
                    
                </section>
                
            </section>
            
            <section>
                
            </section>
        </div>
    </div>
    
        
            <div class="pretalx-session">
                <div class="pretalx-session-time-box avatar">
                    <a href="/pycon-au-2024/speaker/CGMRAQ/">
                        <div class="avatar-wrapper">
                            
                                <img loading="lazy" src="/pycon-au-2024/speaker/avatar.svg" alt="The speakerâ€™s profile picture">
                            
                        </div>
                    </a>
                </div>
                <div class="pretalx-session-info">
                    <div class="title">
                        <a href="/pycon-au-2024/speaker/CGMRAQ/">Caleb Brown</a>
                    </div>
                    <div class="abstract"><p>Caleb is a Senior Software Engineer working for Google's Open Source Security Team. At Google he contributes to <a href="http://deps.dev" rel="nofollow" target="_blank">deps.dev</a> and maintains a <a href="https://github.com/ossf/malicious-packages" rel="nofollow" target="_blank">repository of malicious package reports</a> for open source packages. Caleb has been using Python for over 15 years, starting with build Django sites at publishing company.</p></div>
                    
                </div>
            </div>
        
    
    </article>


                </main>
            </div>
            <footer>
                
                    <div id="exporttimestamp" class="text-muted">
                        
                        This is a static export generated at 2024-09-03 20:23 AEST
                    </div>
                
                



    powered by <a href="https://pretalx.com" target="_blank" rel="noopener">pretalx</a>


                
                    Â·
                    <a href="mailto:program@pycon.org.au">Contact us</a>
                
                
                
                    Â·
                    <a href="/pycon-au-2024/privacy">Privacy</a>
                
            </footer>
        </div>
    </body>
</html>
